{{define "content"}}
<div class="container-fluid py-4">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title mb-0">
                        <i class="fas fa-building me-2"></i>
                        {{if eq .Action "crear"}}Crear Nuevo Centro{{else}}Editar Centro{{end}}
                    </h3>
                </div>
                <div class="card-body">
                    {{if .ErrorMessage}}
                    <div class="alert alert-danger">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        {{.ErrorMessage}}
                    </div>
                    {{end}}

                    <form method="POST">
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre del Centro *</label>
                            <input type="text" 
                                   id="nombre" 
                                   name="nombre" 
                                   class="form-control"
                                   value="{{if .Center}}{{.Center.Name}}{{else if .FormData}}{{.FormData.nombre}}{{end}}" 
                                   required 
                                   placeholder="Ej: Centro Educativo San Pedro, IES La Asunci칩n..."
                                   maxlength="255">
                            <div class="form-text">
                                Introduce un nombre descriptivo para identificar el centro educativo.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="timezone" class="form-label">Zona Horaria</label>
                            <select id="timezone" name="timezone" class="form-select">
                                <option value="Europe/Madrid" {{if or (and .Center (eq .Center.Timezone "Europe/Madrid")) (and .FormData (eq .FormData.timezone "Europe/Madrid")) (not .Center) (not .FormData)}}selected{{end}}>
                                    Europe/Madrid (Espa침a)
                                </option>
                                <option value="Europe/London" {{if or (and .Center (eq .Center.Timezone "Europe/London")) (and .FormData (eq .FormData.timezone "Europe/London"))}}selected{{end}}>
                                    Europe/London (Reino Unido)
                                </option>
                                <option value="Europe/Paris" {{if or (and .Center (eq .Center.Timezone "Europe/Paris")) (and .FormData (eq .FormData.timezone "Europe/Paris"))}}selected{{end}}>
                                    Europe/Paris (Francia)
                                </option>
                                <option value="America/New_York" {{if or (and .Center (eq .Center.Timezone "America/New_York")) (and .FormData (eq .FormData.timezone "America/New_York"))}}selected{{end}}>
                                    America/New_York (Estados Unidos - Este)
                                </option>
                                <option value="America/Chicago" {{if or (and .Center (eq .Center.Timezone "America/Chicago")) (and .FormData (eq .FormData.timezone "America/Chicago"))}}selected{{end}}>
                                    America/Chicago (Estados Unidos - Centro)
                                </option>
                                <option value="America/Los_Angeles" {{if or (and .Center (eq .Center.Timezone "America/Los_Angeles")) (and .FormData (eq .FormData.timezone "America/Los_Angeles"))}}selected{{end}}>
                                    America/Los_Angeles (Estados Unidos - Oeste)
                                </option>
                                <option value="UTC" {{if or (and .Center (eq .Center.Timezone "UTC")) (and .FormData (eq .FormData.timezone "UTC"))}}selected{{end}}>
                                    UTC (Tiempo Universal Coordinado)
                                </option>
                            </select>
                            <div class="form-text">
                                Selecciona la zona horaria principal del centro para la programaci칩n de actividades.
                            </div>
                        </div>

                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-1"></i>
                                {{if eq .Action "crear"}}Crear Centro{{else}}Guardar Cambios{{end}}
                            </button>
                            <a href="/admin/centros" class="btn btn-secondary">
                                <i class="fas fa-times me-1"></i>
                                Cancelar
                            </a>
                        </div>
                    </form>
                </div>
            </div>

            <div class="mt-4 text-center">
                <small class="text-muted">
                    <i class="fas fa-info-circle me-1"></i>
                    Los centros permiten organizar usuarios, materiales, actividades y aulas por ubicaci칩n.
                </small>
            </div>
        </div>
    </div>
</div>
{{end}}